{"ast":null,"code":"function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport EasyMDE from \"easymde\";\nimport { replaceEditorSelection } from \"../lib/utils.js\";\nimport { Controller } from \"stimulus\";\n\nvar _default =\n/*#__PURE__*/\nfunction (_Controller) {\n  _inherits(_default, _Controller);\n\n  function _default() {\n    _classCallCheck(this, _default);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_default).apply(this, arguments));\n  }\n\n  _createClass(_default, [{\n    key: \"doSomething\",\n    value: function doSomething(editor) {\n      var cm = editor.codemirror;\n      document.querySelector('#imagemodal').classList.add('is-active');\n      document.querySelector('#imagemodal button.button').addEventListener('click', function () {\n        document.querySelector('#imagemodal').classList.remove('is-active');\n        replaceEditorSelection(cm, null, [\"{% 'foobar' | cloudinary_image:'q_50' %}\", '']);\n      });\n    }\n  }, {\n    key: \"connect\",\n    value: function connect() {\n      var _this = this;\n\n      this.easyMDE = new EasyMDE({\n        autoDownloadFontAwesome: false,\n        spellChecker: false,\n        forceSync: true,\n        element: this.editorTarget,\n        toolbar: [{\n          name: 'bold',\n          action: EasyMDE.toggleBold,\n          className: 'fa fa-bold',\n          title: 'Bold'\n        }, {\n          name: 'italic',\n          action: EasyMDE.toggleItalic,\n          className: 'fa fa-italic',\n          title: 'Italic'\n        }, {\n          name: 'strikethrough',\n          action: EasyMDE.toggleStrikethrough,\n          className: 'fa fa-strikethrough',\n          title: 'Strikethrough'\n        }, {\n          name: 'heading-1',\n          action: EasyMDE.toggleHeading1,\n          className: 'fa fa-header fa-heading header-1',\n          title: 'Big Heading'\n        }, {\n          name: 'heading-2',\n          action: EasyMDE.toggleHeading2,\n          className: 'fa fa-header fa-heading header-2',\n          title: 'Medium Heading'\n        }, {\n          name: 'heading-3',\n          action: EasyMDE.toggleHeading3,\n          className: 'fa fa-header fa-heading header-3',\n          title: 'Small Heading'\n        }, '|', {\n          name: 'code',\n          action: EasyMDE.toggleCodeBlock,\n          className: 'fa fa-code',\n          title: 'Code'\n        }, {\n          name: 'quote',\n          action: EasyMDE.toggleBlockquote,\n          className: 'fa fa-quote-left',\n          title: 'Quote'\n        }, {\n          name: 'unordered-list',\n          action: EasyMDE.toggleUnorderedList,\n          className: 'fa fa-list-ul',\n          title: 'Generic List'\n        }, {\n          name: 'ordered-list',\n          action: EasyMDE.toggleOrderedList,\n          className: 'fa fa-list-ol',\n          title: 'Numbered List'\n        }, {\n          name: 'clean-block',\n          action: EasyMDE.cleanBlock,\n          className: 'fa fa-eraser',\n          title: 'Clean block'\n        }, '|', {\n          name: 'link',\n          action: EasyMDE.drawLink,\n          className: 'fa fa-link',\n          title: 'Create Link'\n        }, {\n          name: 'cloudinary',\n          action: function action(editor) {\n            _this.doSomething(editor);\n          },\n          className: 'fa fa-image',\n          title: 'Insert Cloudinary Image'\n        }, {\n          name: 'horizontal-rule',\n          action: EasyMDE.drawHorizontalRule,\n          className: 'fa fa-minus',\n          title: 'Insert Horizontal Line'\n        }, '|', {\n          name: 'preview',\n          action: EasyMDE.togglePreview,\n          className: 'fa fa-eye',\n          noDisable: true,\n          title: 'Toggle Preview'\n        }, {\n          name: 'side-by-side',\n          action: EasyMDE.toggleSideBySide,\n          className: 'fa fa-columns',\n          noDisable: true,\n          noMobile: true,\n          title: 'Toggle Side by Side'\n        }, {\n          name: 'fullscreen',\n          action: EasyMDE.toggleFullScreen,\n          className: 'fa fa-arrows-alt',\n          noDisable: true,\n          noMobile: true,\n          title: 'Toggle Fullscreen'\n        }, '|', {\n          name: 'undo',\n          action: EasyMDE.undo,\n          className: 'fa fa-undo',\n          noDisable: true,\n          title: 'Undo'\n        }, {\n          name: 'redo',\n          action: EasyMDE.redo,\n          className: 'fa fa-repeat fa-redo',\n          noDisable: true,\n          title: 'Redo'\n        }]\n      });\n    }\n  }]);\n\n  return _default;\n}(Controller);\n\n_default.targets = [\"editor\"];\nexport { _default as default };","map":{"version":3,"sources":["/home/jared/apps/yarii-editor/app/javascript/controllers/markdown_editor_controller.js"],"names":["EasyMDE","replaceEditorSelection","Controller","editor","cm","codemirror","document","querySelector","classList","add","addEventListener","remove","easyMDE","autoDownloadFontAwesome","spellChecker","forceSync","element","editorTarget","toolbar","name","action","toggleBold","className","title","toggleItalic","toggleStrikethrough","toggleHeading1","toggleHeading2","toggleHeading3","toggleCodeBlock","toggleBlockquote","toggleUnorderedList","toggleOrderedList","cleanBlock","drawLink","doSomething","drawHorizontalRule","togglePreview","noDisable","toggleSideBySide","noMobile","toggleFullScreen","undo","redo","targets"],"mappings":"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","sourcesContent":["import EasyMDE from \"easymde\"\nimport { replaceEditorSelection } from \"../lib/utils.js\"\n\nimport { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static targets = [ \"editor\" ]\n\n  doSomething(editor) {\n    var cm = editor.codemirror\n\n    document.querySelector('#imagemodal').classList.add('is-active')\n    document.querySelector('#imagemodal button.button').addEventListener('click', () => {\n      document.querySelector('#imagemodal').classList.remove('is-active')\n      replaceEditorSelection(cm, null, [\"{% 'foobar' | cloudinary_image:'q_50' %}\", ''])\n    })\n  }\n\n  connect() {\n    this.easyMDE = new EasyMDE({\n      autoDownloadFontAwesome: false,\n      spellChecker: false,\n      forceSync: true,\n      element: this.editorTarget,\n      toolbar: [\n        {\n            name: 'bold',\n            action: EasyMDE.toggleBold,\n            className: 'fa fa-bold',\n            title: 'Bold',\n        },\n        {\n            name: 'italic',\n            action: EasyMDE.toggleItalic,\n            className: 'fa fa-italic',\n            title: 'Italic',\n        },\n        {\n            name: 'strikethrough',\n            action: EasyMDE.toggleStrikethrough,\n            className: 'fa fa-strikethrough',\n            title: 'Strikethrough',\n        },\n        {\n            name: 'heading-1',\n            action: EasyMDE.toggleHeading1,\n            className: 'fa fa-header fa-heading header-1',\n            title: 'Big Heading',\n        },\n        {\n            name: 'heading-2',\n            action: EasyMDE.toggleHeading2,\n            className: 'fa fa-header fa-heading header-2',\n            title: 'Medium Heading',\n        },\n        {\n            name: 'heading-3',\n            action: EasyMDE.toggleHeading3,\n            className: 'fa fa-header fa-heading header-3',\n            title: 'Small Heading',\n        },\n        '|',\n        {\n            name: 'code',\n            action: EasyMDE.toggleCodeBlock,\n            className: 'fa fa-code',\n            title: 'Code',\n        },\n        {\n            name: 'quote',\n            action: EasyMDE.toggleBlockquote,\n            className: 'fa fa-quote-left',\n            title: 'Quote'\n        },\n        {\n            name: 'unordered-list',\n            action: EasyMDE.toggleUnorderedList,\n            className: 'fa fa-list-ul',\n            title: 'Generic List'\n        },\n        {\n            name: 'ordered-list',\n            action: EasyMDE.toggleOrderedList,\n            className: 'fa fa-list-ol',\n            title: 'Numbered List'\n        },\n        {\n            name: 'clean-block',\n            action: EasyMDE.cleanBlock,\n            className: 'fa fa-eraser',\n            title: 'Clean block',\n        },\n        '|',\n        {\n            name: 'link',\n            action: EasyMDE.drawLink,\n            className: 'fa fa-link',\n            title: 'Create Link'\n        },\n        {\n          name: 'cloudinary',\n          action: (editor) => {this.doSomething(editor)},\n          className: 'fa fa-image',\n          title: 'Insert Cloudinary Image'\n        },\n        {\n            name: 'horizontal-rule',\n            action: EasyMDE.drawHorizontalRule,\n            className: 'fa fa-minus',\n            title: 'Insert Horizontal Line',\n        },\n        '|',\n        {\n            name: 'preview',\n            action: EasyMDE.togglePreview,\n            className: 'fa fa-eye',\n            noDisable: true,\n            title: 'Toggle Preview'\n        },\n        {\n            name: 'side-by-side',\n            action: EasyMDE.toggleSideBySide,\n            className: 'fa fa-columns',\n            noDisable: true,\n            noMobile: true,\n            title: 'Toggle Side by Side'\n        },\n        {\n            name: 'fullscreen',\n            action: EasyMDE.toggleFullScreen,\n            className: 'fa fa-arrows-alt',\n            noDisable: true,\n            noMobile: true,\n            title: 'Toggle Fullscreen'\n        },\n        '|',\n        {\n            name: 'undo',\n            action: EasyMDE.undo,\n            className: 'fa fa-undo',\n            noDisable: true,\n            title: 'Undo',\n        },\n        {\n            name: 'redo',\n            action: EasyMDE.redo,\n            className: 'fa fa-repeat fa-redo',\n            noDisable: true,\n            title: 'Redo',\n        },\n      ]\n    });\n  }\n}"]},"metadata":{},"sourceType":"module"}